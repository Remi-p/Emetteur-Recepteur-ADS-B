%% =================== Communications numeriques ==================== %%
%  Gourdel Thibaut                                           . \|/ /,  %
%  Perrot Remi            =================                  \\`''/_-- %
%  TS226                  | 5.2 Travail   |           Bordeaux INP --- %
%  Decembre 2015          |   a realiser  |           ENSEIRB  ,..\\`  %
%                         =================           MATMECA / | \\`  %
% ==================================================================== %

clc; close all; clear all;

global verbose;
verbose = false;

registre = struct('adresse', [], 'format', [], 'type', [], 'nom', [], ...
                  'timeFlag', [], 'cprFlag', [], ...
                  'positions', [], 'velocity', []);
              

              
load('trames_13.mat')
% matrice_binaire2 = [0,1,1,1;1,0,0,0;0,0,0,0;0,0,0,0;0,1,1,1;1,1,1,1;1,0,0,0;0,1,1,1;1,0,0,0;0,0,1,1;0,0,0,0;0,0,0,0;0,0,1,1;0,0,0,0;0,1,0,0;1,0,0,0;0,0,0,0;0,0,1,1;0,0,0,0;0,0,0,0;0,0,1,1;0,0,1,1;0,0,0,0;0,0,0,0;0,1,0,0;1,1,1,1;1,1,0,0;1,0,1,1;0,1,1,1;1,1,0,0;1,1,0,0;1,1,1,1;1,1,0,0;1,0,1,1;0,0,0,0;0,1,1,1;1,1,1,1;1,0,0,0;0,0,0,0;0,1,0,0;1,0,1,1;0,0,0,0;0,0,1,1;0,1,1,1;1,0,1,1;0,1,1,1;1,0,1,1;0,0,1,1;0,1,0,0;1,1,0,0;1,0,0,0;0,1,0,0;1,0,0,0;0,1,1,1;1,0,0,0;0,0,1,1;0,0,0,0;0,0,1,1;0,0,0,0;0,0,1,1;0,1,0,0;1,1,1,1;1,0,0,0;0,0,1,1;0,0,1,1;0,1,1,1;1,0,0,0;0,0,1,1;0,1,1,1;1,0,1,1;0,0,1,1;0,0,1,1;0,0,1,1;0,0,1,1;0,1,1,1;1,0,0,0;0,0,1,1;0,0,0,0;0,0,0,0;0,0,0,0;0,0,1,1;0,0,1,1;0,1,0,0;1,0,0,0;0,0,1,1;0,0,0,0;0,0,0,0;0,1,0,0;1,0,0,0;0,0,0,0;0,0,1,1;0,0,0,0;0,0,0,0;0,0,0,0;0,1,1,1;1,0,0,0;0,1,0,0;1,1,0,0;1,1,1,1;1,1,1,1;1,1,0,0;1,0,0,0;0,0,1,1;0,0,1,1;0,0,1,1;0,1,0,0;1,0,0,0;0,1,1,1;1,1,0,0;1,0,0,0;0,0,1,1;0,0,0,0];

for i=1:size(matrice_binaire2,2)
    if verbose;cprintf('_blue', 'Trame %i\n', i);end
	registre = bit2registre(matrice_binaire2(:,i), registre);
end

registre


planes_on_map( registre.positions, registre.adresse );
