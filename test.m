close all;
clear all;
clc;

trames = [0,1,1,1;1,0,0,0;0,0,0,0;0,0,0,0;0,1,1,1;1,1,1,1;1,0,0,0;0,1,1,1;1,0,0,0;0,0,1,1;0,0,0,0;0,0,0,0;0,0,1,1;0,0,0,0;0,1,0,0;1,0,0,0;0,0,0,0;0,0,1,1;0,0,0,0;0,0,0,0;0,0,1,1;0,0,1,1;0,0,0,0;0,0,0,0;0,1,0,0;1,1,1,1;1,1,0,0;1,0,1,1;0,1,1,1;1,1,0,0;1,1,0,0;1,1,1,1;1,1,0,0;1,0,1,1;0,0,0,0;0,1,1,1;1,1,1,1;1,0,0,0;0,0,0,0;0,1,0,0;1,0,1,1;0,0,0,0;0,0,1,1;0,1,1,1;1,0,1,1;0,1,1,1;1,0,1,1;0,0,1,1;0,1,0,0;1,1,0,0;1,0,0,0;0,1,0,0;1,0,0,0;0,1,1,1;1,0,0,0;0,0,1,1;0,0,0,0;0,0,1,1;0,0,0,0;0,0,1,1;0,1,0,0;1,1,1,1;1,0,0,0;0,0,1,1;0,0,1,1;0,1,1,1;1,0,0,0;0,0,1,1;0,1,1,1;1,0,1,1;0,0,1,1;0,0,1,1;0,0,1,1;0,0,1,1;0,1,1,1;1,0,0,0;0,0,1,1;0,0,0,0;0,0,0,0;0,0,0,0;0,0,1,1;0,0,1,1;0,1,0,0;1,0,0,0;0,0,1,1;0,0,0,0;0,0,0,0;0,1,0,0;1,0,0,0;0,0,0,0;0,0,1,1;0,0,0,0;0,0,0,0;0,0,0,0;0,1,1,1;1,0,0,0;0,1,0,0;1,1,0,0;1,1,1,1;1,1,1,1;1,1,0,0;1,0,0,0;0,0,1,1;0,0,1,1;0,0,1,1;0,1,0,0;1,0,0,0;0,1,1,1;1,1,0,0;1,0,0,0;0,0,1,1;0,0,0,0];
p = [1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 0 0 0 0 0 0 1 0 0 1];
for i=1:size(trames,2)
    fprintf('Trame %i \n', i);
     h = crc.detector([1 1 1 1 1 1 1 1 1 1 1 1 1 0 1 0 0 0 0 0 0 1 0 0 1]);
    [outdata1 err1] = detect(h, trames(:,i));
    outdata1
    err1
    
    [outdata2 err2] = crc24(transpose(trames(:,i)), p);
    outdata2
    err2
    
	%registre = bit2registre(matrice_binaire2(:,i), registre);
end